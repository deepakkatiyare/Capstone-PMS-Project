<div class=searchDiv>
  <div>
    <h3>Accepted Appointment</h3>
  </div>
  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center" (selectedTabChange)="getCurrentDate($event)">
    <mat-tab class="tab" label="Today" name="Dob"></mat-tab>
    <mat-tab label="Tommorrow"></mat-tab>
  </mat-tab-group>
  <div>
    <span>
      <mat-form-field appearance="outline" style="width:15vw;margin-right:20px;">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="picker" (dateChange)="SelectBydate($event.target.value)">
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </span>
  </div>
</div>
<div style="display: flex;justify-content: start;">
  <input type="text" placeholder="Search Patient" class="inputBtn" (keyup)="applyFilter($event)" #input>
</div>
<mat-divider></mat-divider>
<div style="margin:10px">
  <div fxLayout="row wrap" fxLayoutGap="10px grid" style="
      flex-flow: row wrap;
      display: flex;
      margin: 0px -143px -10px 0px;
      box-sizing: border-box;
    ">
    <ng-container *ngIf="(app.length!=0)">
      <div fxFlex="33%" fxFlex.xs="100%" fxFlex.sm="33%" *ngFor="let details of app; let i = index">
        <mat-card class="mat-elevation-z4">
          <mat-card-header style="line-height:2;letter-spacing:1px;align-items: center;margin-top:-8px;">
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title>
              {{patientData[i].title+" "+patientData[i].firstName +" "+patientData[i].lastName}}</mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
          <mat-card-header style="line-height:1.6;letter-spacing:1px;">
            <mat-card-subtitle style="margin-right: 5px;">Email : {{patientData[i].email}}</mat-card-subtitle>
            <mat-card-subtitle style="margin-right: 5px;">Appointment-Date : {{details.date}}</mat-card-subtitle>
            <mat-card-subtitle>Age : {{patientData[i].dob|age}}</mat-card-subtitle>
            <mat-card-subtitle>Gender : {{patientData[i].gender}}</mat-card-subtitle>
            <mat-card-subtitle>Contact-Number: {{ patientData[i].contactNumber}}</mat-card-subtitle>
            <mat-card-subtitle>Ailment : {{details.reason}}</mat-card-subtitle>
          </mat-card-header>
          <br />
          <mat-card-footer>
            <mat-card-action fxFlexAlign="end">
              <button [id]="'accept-btn-' + details.patientId" (click)="setpaientId(details.patientId)"
                (click)="setAppointmentId(details.id)" routerLink="/physician/viewDetails" type="button" class="end"
                style="height: fit-content; width: fit-content;float:right;margin:10px;">
                <b>View Details</b>
              </button>
            </mat-card-action>
          </mat-card-footer>
        </mat-card>
      </div>
    </ng-container>

  </div>
</div>
<ng-container *ngIf="(app.length==0)">
  <div style="display:flex;justify-content: center;">
    <mat-card style="width:100%;text-align: center; padding:10px;margin:10px;">
      Hey {{email}}! No Appointments is available.
    </mat-card>
  </div>
</ng-container>